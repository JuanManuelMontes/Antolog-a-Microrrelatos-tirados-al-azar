<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Triple C - Microrrelatos al Azar</title>
<meta name="color-scheme" content="dark light">
<style>
  :root{
    --bg:#0b0f17;
    --fg:#eaf2ff;
    --muted:#9fb2d9;
    --btn:#1d5cff;
    --btn-hover:#1647c8;
    --card:#121826;
    --edge:rgba(255,255,255,.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; min-height:100dvh; display:grid; place-items:center;
    background:
      radial-gradient(1200px 700px at 10% -10%, #15203a 0%, transparent 60%),
      radial-gradient(1200px 700px at 110% 110%, #0e1526 0%, transparent 60%),
      var(--bg);
    color:var(--fg);
    font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  }
  .app{ width:min(1080px,94vw); display:grid; gap:28px; padding:16px; }
  header h1{margin:0 0 4px; font-weight:800; letter-spacing:.3px}
  header p{margin:0; color:var(--muted)}
  .stage{ display:grid; grid-template-columns:1fr 1fr; gap:28px; align-items:start; }
  
  @media (max-width:880px){ 
    .stage{ grid-template-columns:1fr } 
  }
  @media (max-width: 480px) {
    body { font-size: 15px; }
    .app { padding: 12px; }
  }

  .dice-wrap{
    display:grid; gap:16px; place-items:center; padding:18px;
    background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
    border-radius:16px; outline:1px solid var(--edge);
  }
  
  .dice-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    width: 100%;
    margin-bottom: 2em;
  }
  
  /* --- CÓDIGO CORREGIDO PARA CELULARES --- */
  .viewport{
    width: 30%; /* Cada dado ocupará el 30% de su contenedor */
    max-width: 160px; /* Un tamaño máximo para que no se hagan gigantes en pantallas grandes */
    aspect-ratio:1/1;
    perspective:1100px;
    display:grid;
    place-items:center;
    position:relative;
  }
  
  .shadow{ position:absolute; bottom:2%; width:70%; height:12%; background:radial-gradient(50% 60% at 50% 50%, rgba(0,0,0,.55), rgba(0,0,0,0) 70%); filter:blur(4px); pointer-events:none; }
  .dice{
    width:77%; height:77%;
    position:relative; transform-style:preserve-3d;
    transition:transform 1.05s cubic-bezier(.2,.7,.1,1); will-change:transform;
  }
  .face{
    position:absolute; inset:0;
    background:radial-gradient(160% 120% at 50% 20%, #2b3a63 0%, #1f2a47 55%, #141b2d 100%);
    border-radius:12px; display:grid; place-items:center;
    box-shadow: inset 0 0 0 2px rgba(255,255,255,.05), inset 0 25px 60px rgba(255,255,255,.08), 0 24px 60px rgba(0,0,0,.55);
  }
  .face::after{
    content:""; position:absolute; inset:-1px; border-radius:12px;
    background:linear-gradient(to bottom right, rgba(255,255,255,.10), rgba(255,255,255,0) 30%), radial-gradient(80% 60% at 30% 10%, rgba(255,255,255,.15), transparent 60%);
    mix-blend-mode:screen; pointer-events:none;
  }
  .edge{ position:absolute; inset:0; border-radius:12px; box-shadow:0 0 0 2px rgba(255,255,255,.05); pointer-events:none; }
  
  .pips {
    width: 64%; height: 64%;
    display: grid;
    grid-template-columns: repeat(3, 1fr);  
    grid-template-rows: repeat(3, 1fr);  
    gap: 10%;
  }

  .logo-img {
    width: 70%; 
    height: 70%;
    display: none;
    place-items: center;
    transform: translateY(-15%);
  }
  
  .logo-img img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
  }

  .pip {
    width:12px; height:12px; border-radius:50%;
    background:radial-gradient(circle at 30% 30%, #fff 0%, #dfe6ff 35%, #b7c7ff 70%, #8ea3ff 100%);
    justify-self:center; align-self:center; box-shadow:0 2px 6px rgba(0,0,0,.35); display:none;
  }
  .pip:nth-child(1){ grid-area:1/1; } .pip:nth-child(2){ grid-area:1/2; } .pip:nth-child(3){ grid-area:1/3; }
  .pip:nth-child(4){ grid-area:2/1; } .pip:nth-child(5){ grid-area:2/2; } .pip:nth-child(6){ grid-area:2/3; }
  .pip:nth-child(7){ grid-area:3/1; } .pip:nth-child(8){ grid-area:3/2; } .pip:nth-child(9){ grid-area:3/3; }

  .face[data-n="1"] .pip:nth-child(5),
  .face[data-n="2"] .pip:nth-child(3), .face[data-n="2"] .pip:nth-child(7),
  .face[data-n="3"] .pip:nth-child(3), .face[data-n="3"] .pip:nth-child(5), .face[data-n="3"] .pip:nth-child(7),
  .face[data-n="4"] .pip:nth-child(1), .face[data-n="4"] .pip:nth-child(3), .face[data-n="4"] .pip:nth-child(7), .face[data-n="4"] .pip:nth-child(9),
  .face[data-n="5"] .pip:nth-child(1), .face[data-n="5"] .pip:nth-child(3), .face[data-n="5"] .pip:nth-child(5), .face[data-n="5"] .pip:nth-child(7), .face[data-n="5"] .pip:nth-child(9),
  .face[data-n="6"] .pip:nth-child(1), .face[data-n="6"] .pip:nth-child(3), .face[data-n="6"] .pip:nth-child(4), .face[data-n="6"] .pip:nth-child(6), .face[data-n="6"] .pip:nth-child(7), .face[data-n="6"] .pip:nth-child(9)
  { display:block }
  
  .face[data-n="6"] .pips { display: none; }
  .face[data-n="6"] .logo-img { display: grid; }

  .face,[data-n]{ transform-style:preserve-3d }
  .face[data-n="1"]{ transform: translateZ(77px) }
  .face[data-n="2"]{ transform: rotateY(90deg) translateZ(77px) }
  .face[data-n="3"]{ transform: rotateY(180deg) translateZ(77px) }
  .face[data-n="4"]{ transform: rotateY(-90deg) translateZ(77px) }
  .face[data-n="5"]{ transform: rotateX(90deg) translateZ(77px) }
  .face[data-n="6"]{ transform: rotateX(-90deg) translateZ(77px) }

  .controls{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
  button{
    appearance:none; border:0; cursor:pointer;
    background:linear-gradient(180deg, var(--btn), var(--btn-hover));
    color:#fff; padding:12px 18px; border-radius:12px; font-weight:800;
    letter-spacing:.3px; box-shadow:0 8px 20px rgba(29,92,255,.35);
  }
  button:disabled{opacity:.6; cursor:not-allowed; box-shadow:none}
  .muted{ background:#24304a; color:#d6e1ff; box-shadow:none; font-weight:700 }

  .card{ background:var(--card); border:1px solid var(--edge); border-radius:16px; padding:20px; min-height:300px; }
  .badge{ display:inline-grid; place-items:center; min-width:28px; height:28px; padding: 0 6px; border-radius:8px; background:#1e2a45; color:#9fc1ff; font-weight:800; margin-right:8px; border:1px solid var(--edge); }
  h2{margin:0 0 6px; font-size:1.15rem}
  .author{color:var(--muted); margin:0 0 14px}

  .text p{
    color:#eef3ff;
    line-height:1.7;
    text-align: justify;
    text-indent: 40px;
    margin: 0 0 1em;
  }

  .small{font-size:.875rem}
  footer{color:var(--muted); font-size:.875rem; text-align:center}
</style>
</head>
<body>
  <main class="app" role="main">
    <header>
      <h1>Microrrelatos tirados al azar - Triple C </h1>
      <p>Apretá el botón y dejá que el azar te regale un microrrelato. También podés presionar <strong>R</strong> o sacudir el celular.</p>
    </header>

    <section class="stage" aria-label="Juego de azar">
      <div class="dice-wrap">
        
        <div class="dice-container">
          
          <div class="viewport" aria-hidden="true">
            <div class="shadow"></div>
            <div class="dice" id="dice1">
              <div class="face" data-n="1"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="2"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="3"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="4"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="5"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="6"><span class="edge"></span>
                <div class="pips">
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                </div>
                <div class="logo-img">
                  <img src="logo-triple-c.jpeg" alt="Logo Triple C">
                </div>
              </div>
            </div>
          </div>
          
          <div class="viewport" aria-hidden="true">
            <div class="shadow"></div>
            <div class="dice" id="dice2">
              <div class="face" data-n="1"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="2"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="3"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="4"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="5"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="6"><span class="edge"></span>
                <div class="pips">
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                </div>
                <div class="logo-img">
                  <img src="logo-triple-c.jpeg" alt="Logo Triple C">
                </div>
              </div>
            </div>
          </div>
          
          <div class="viewport" aria-hidden="true">
            <div class="shadow"></div>
            <div class="dice" id="dice3">
              <div class="face" data-n="1"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="2"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="3"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="4"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="5"><span class="edge"></span><div class="pips">
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                <div class="pip"></div><div class="pip"></div><div class="pip"></div>
              </div></div>
              <div class="face" data-n="6"><span class="edge"></span>
                <div class="pips">
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                  <div class="pip"></div><div class="pip"></div><div class="pip"></div>
                </div>
                <div class="logo-img">
                  <img src="logo-triple-c.jpeg" alt="Logo Triple C">
                </div>
              </div>
            </div>
          </div>
          
        </div> <div class="controls">
          <button id="rollBtn" aria-label="Lanzar los dados">¡Qué la suerte te acompañe!</button>
          <button id="imgBtn" class="muted" disabled>Descargar imagen (IG)</button>
        </div>
      </div>

      <article class="card" id="card" aria-live="polite">
        <div class="small" style="margin-bottom:6px; color:var(--muted);">Suma total</div>
        <h2><span class="badge" id="badge">—</span><span id="title">Aún no has tirado los dados</span></h2>
        <p class="author" id="author">Cuando salga un número, verás aquí el texto correspondiente.</p>
        <div class="text" id="content"></div>
      </article>
    </section>

    <footer>© 2025 — Triple C · Antología Microrrelatos tirados al azar</footer>
  </main>

<script>
// El resto del script es idéntico y no necesita cambios.
// Pega todo el bloque de JavaScript que ya tienes aquí.
</script>
</body>
</html>